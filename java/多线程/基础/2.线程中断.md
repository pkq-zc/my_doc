# 线程中断

## 相关方法

- ```public void interrupt()```在一个线程中调用另外一个线程的该方法,会将另外一个线程的中断状态标记为中断.如果线程处于waiting或者timed_waiting,还将抛出一个中断异常.

- ```public static boolean interrupted()```该方法用来测试线程是否已经中断.同时该方法还可以用来清除线程的中断状态.

- ```public boolean isInterrupted()```该方法返回线程的中断状态,但是不会清除线程的中断状态.

``` java
public static boolean interrupted() {
        return currentThread().isInterrupted(true);
    }
public boolean isInterrupted() {
        return isInterrupted(false);
    }
private native boolean isInterrupted(boolean ClearInterrupted);
```

从源码中可以看出,```interrupted()```调用的就是```currentThread().isInterrupted(true)```.

## 不同线程状态下中断状态的影响

- 在```NEW```和```TERMINATED```中断线程没有什么意义,因为线程还未启动或者已经执行完成了.
- 在```BLOCKED```和```RUNNABLE```状态下,执行线程中断,只是会改变线程的中断状态,线程还是会继续执行.
- 在```WAITING```和```TIMED_WAITING```状态下,执行线程中断,线程会抛出```InterruptedException```异常.

示例代码例子:[InterruptDemo1~6](https://github.com/pkq-zc/current/blob/master/src/main/java/com/buydeem/thread/InterruptDemo1.java "示例代码")

## 需要注意的点

- 执行完线程中断方法,需要看线程在什么状态.如果在```BLOCKED```或者```RUNNABLE```状态下,线程是不会主动中断执行的.它只是改变了中断标志而已.
- jdk提供的```stop```,```suspend()```等这些方法也能达到中断目的,但是已近不推荐使用了,容易引发死锁等一系列不良状况.