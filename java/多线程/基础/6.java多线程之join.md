# java多线程之join

在一些场景中,我们需要等待某几件事情完成之后才能继续往下执行.例如,程序开始需要加载一下资源,等资源全部加载完毕,然后程序才能启动.这个时候可以使用join来实现.

``` java
public class App1 {
    public static void main(String[] args) throws InterruptedException {
        Thread t1 = new Thread(() -> {
            System.out.println("加载资源A....");
        }, "t1");

        Thread t2 = new Thread(() -> {
            System.out.println("加载资源B");
        }, "t2");

        t1.start();
        t2.start();

        System.out.println("等待任务t1完成");
        t1.join();
        System.out.println("等待任务t2完成");
        t2.join();

        System.out.println("所有资源加载完毕");

    }
}
```

当```mian```线程启动```t1```和```t2```后,```t1```和```t2```开始运行.接着```main```线程等待```t1```线程执行完成,当```t1```执行完之后.```mian```线程等待```t2```线程执行完成.当```t2```线程执行完之后,所有资源加载完毕.

join方法的原理就是调用相应线程的wait方法进行等待操作的.例如A线程中调用了B线程的join方法,则相当于在A线程中调用了B线程的wait方法,当B线程执行完(或者到达等待时间),B线程会自动调用自身的notifyAll方法唤醒A线程,从而达到同步的目的.
